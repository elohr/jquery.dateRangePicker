/*
 * jquery.dateRangePicker
 * https://elohr.me/
 *
 * Copyright (c) 2014 elohr
 * Licensed under the MIT license.
 */
function DateRangePicker(e,t){"use strict";var a={customLanguage:!1,initialElement:void 0,untilElement:void 0,specificDaysDoubleClickTimeout:void 0,shiftKeyIsPressed:!1,controlKeyIsPressed:!1,isMouseDown:!1,lastMonthDoubleClicked:void 0,months:[],initialMonthPosition:{left:0,top:0},specificDaysSelected:0,dateRangeElement:window.jQuery("<div/>",{"class":"drp-element"}),dateRangeElementFrom:window.jQuery("<span/>",{"class":"drp-from"}),dateRangeElementSeparator:window.jQuery("<span/>",{"class":"drp-separator"}),dateRangeElementTo:window.jQuery("<span/>",{"class":"drp-to"}),overlay:window.jQuery("<div/>",{"class":"drp-overlay"}),dailyPopup:window.jQuery("<div/>",{"class":"drp-daily-popup"}),mainPopup:window.jQuery("<div/>",{"class":"drp-popup"}),activeMonthsWrapper:window.jQuery("<div/>",{"class":"drp-active"}),selectedDateContainer:window.jQuery("<div />",{"class":"drp-selected-date"}),selectedDateForm:window.jQuery("<form />"),fromDateSpan:window.jQuery("<span />",{"class":"drp-from-date"}),toDateSpan:window.jQuery("<span />",{"class":"drp-to-date"}),rangeSeparator:window.jQuery("<span />",{"class":"drp-date-range-separator"}),fromDateHiddenField:window.jQuery("<input />",{type:"hidden"}),toDateHiddenField:window.jQuery("<input />",{type:"hidden"}),monthShortNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],monthShortNamesSpanish:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],monthLongNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthLongNamesSpanish:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],dayShortNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayShortNamesSpanish:["Dom","Lun","Mar","Mie","Jue","Vie","Sab"],dayLongNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayLongNamesSpanish:["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"],today:"today",tomorrow:"tomorrow",yesterday:"yesterday",thisWeek:"this week",thisMonth:"this month",thisYear:"this year",lastYear:"last year",todaySpanish:"hoy",tomorrowSpanish:"mañana",yesterdaySpanish:"ayer",thisWeekSpanish:"esta semana",thisMonthSpanish:"este mes",thisYearSpanish:"este año",lastYearSpanish:"año pasado",init:function(){var n,o,r,s,i,l;$(e).after(a.dateRangeElement),t.customClass&&a.dateRangeElement.addClass(t.customClass),t.width&&a.dateRangeElement.css("width",t.width),a.dateRangeElement.append("<div></div>"),a.dateRangeElement.children().append(a.dateRangeElementFrom,[a.dateRangeElementSeparator,a.dateRangeElementTo]),$(e).hide(),t.customClass&&$(e).addClass(t.customClass),a.dailyPopup.append('<div class="drp-days-in-month"></div>'),n=a.dailyPopup.children(),t.startWeekOnMonday&&!a.customLanguage&&(t.dayShortNames=[t.dayShortNames[1],t.dayShortNames[2],t.dayShortNames[3],t.dayShortNames[4],t.dayShortNames[5],t.dayShortNames[6],t.dayShortNames[0]],t.dayLongNames=[t.dayLongNames[1],t.dayLongNames[2],t.dayLongNames[3],t.dayLongNames[4],t.dayLongNames[5],t.dayLongNames[6],t.dayLongNames[0]]);for(var d=t.dayShortNames.length-1;d>=0;d--)n.prepend('<span class="drp-day-title">'+t.dayShortNames[d].substring(0,1)+"</div>");for(a.dailyPopup.append('<div class="drp-days-detail"></div>'),a.mainPopup.append('<div class="drp-standard-dates"><span class="drp-option drp-o1">'+t.today+'</span><span class="drp-option drp-o2">'+t.thisWeek+'</span><span class="drp-option drp-o3">'+t.thisMonth+'</span><span class="drp-option drp-o4">'+t.thisYear+'</span><span class="drp-option drp-o5">'+t.lastYear+"</span></div>"),"string"==typeof t.startDate&&(o=t.startDate.split("-"),t.startDate=new Date(parseInt(o[0]),parseInt(o[1])-1,parseInt(o[2])),r=parseInt(o[0]),s=parseInt(o[0])),"string"==typeof t.endDate&&(o=t.endDate.split("-"),t.endDate=new Date(parseInt(o[0]),parseInt(o[1])-1,parseInt(o[2])),i=parseInt(o[0]));i>=r;){if(a.mainPopup.append('<div class="drp-year"></div>'),l=a.mainPopup.children(":last"),r===s)for(var d=0;11>=d;d++)d<t.startDate.getMonth()?l.append('<div class="drp-month-empty">&nbsp;</div>'):(l.append(a.createMonthElement(r,d+1,t.monthShortNames[d])),a.months.push(l.children(":last")[0]),$(a.months[a.months.length-1]).on("mousedown touchstart",a.monthMouseDown).on("mouseover drag",a.monthMouseOver).on("doubletap",a.monthDoubleClick));if(r===i)for(var d=t.endDate.getMonth();d>=0;d--)l.prepend(a.createMonthElement(r,d+1,t.monthShortNames[d])),a.months.push(l.children(":first")[0]),$(a.months[a.months.length-1]).on("mousedown touchstart",a.monthMouseDown).on("mouseover drag",a.monthMouseOver).on("doubletap",a.monthDoubleClick);if(r!==s&&r!==i)for(var d=11;d>=0;d--)l.prepend(a.createMonthElement(r,d+1,t.monthShortNames[d])),a.months.push(l.children(":first")[0]),$(a.months[a.months.length-1]).on("mousedown touchstart",a.monthMouseDown).on("mouseover drag",a.monthMouseOver).on("doubletap",a.monthDoubleClick);l.prepend('<div class="drp-year-value">'+r+"</div>"),l.children(":first").click(a.yearClick),r+=1}a.fromDateSpan.text(t.selectDateText),a.toDateSpan.text(t.selectDateText),a.rangeSeparator.text(t.toText),a.selectedDateForm.append(a.fromDateSpan),a.selectedDateForm.append(a.rangeSeparator),a.selectedDateForm.append(a.toDateSpan),a.selectedDateContainer.append(a.selectedDateForm),a.mainPopup.append(a.selectedDateContainer),a.fromDateHiddenField.attr("name",t.fromDateHiddenFieldName),a.toDateHiddenField.attr("name",t.toDateHiddenFieldName),a.overlay.click(a.close),a.fromDateSpan.click(a.fromDateClicked),a.toDateSpan.click(a.toDateClicked),a.dailyPopup.children(":last").on("click",".drp-day-select",a.dayClick),a.mainPopup.children(":first").children().click(a.predefinedOptionClick),$(document.body).append(a.overlay,[a.dailyPopup,a.mainPopup]),$(e).after(a.fromDateHiddenField),$(e).after(a.toDateHiddenField),t.initialized()},open:function(){var e=a.fromDateSpan.text(),n=a.toDateSpan.text(),o=a.parseToDate(e);a.overlay.show(),a.mainPopup.show().css({left:($(window).width()-a.mainPopup.outerWidth())/2,top:a.dateRangeElement.offset().top+24}),a.dailyPopup.show().css({left:($(window).width()-a.dailyPopup.outerWidth())/2,top:a.dateRangeElement.offset().top+24}),a.initialElement&&a.makeSelection(a.untilElement,a.initialElement),a.fromDateSpan.text(e),a.toDateSpan.text(n),o&&(a.excludeMonthPartsFromStartDate(o.split("-")[2]),a.excludeMonthPartsFromEndDate(a.parseToDate(n).split("-")[2])),t.popupOpened()},close:function(){a.fromDateSpan.text()!==t.selectDateText&&a.toDateSpan.text()!==t.selectDateText?(a.dateRangeElementFrom.text(a.fromDateSpan.text()),a.dateRangeElementSeparator.text(t.toText),a.dateRangeElementTo.text(a.toDateSpan.text()),a.fromDateHiddenField.val(a.parseToDate(a.fromDateSpan.text())),a.toDateHiddenField.val(a.parseToDate(a.toDateSpan.text()))):(a.dateRangeElementFrom.text(""),a.dateRangeElementSeparator.text(""),a.dateRangeElementTo.text("")),a.overlay.hide(),a.mainPopup.hide(),a.dailyPopup.hide(),a.clearSelection(),t.popupClosed()},fillTextBoxes:function(){var e,n,o;0===$(".drp-hovering").length&&(e=$(".drp-active:first").children(":first").attr("data-value").split("-"),o=new Date(e[0],parseInt(e[1])-1,e[2]),o<t.startDate&&(e[0]=t.startDate.getFullYear(),e[1]=t.startDate.getMonth()+1,e[2]=t.startDate.getDate()),a.fromDateSpan.text(a.parseToString(e[0]+"-"+e[1]+"-"+e[2])),n=$(".drp-active:last").children(":last").attr("data-value").split("-"),o=new Date(n[0],parseInt(n[1]),0),o>t.endDate?(n[0]=t.endDate.getFullYear(),n[1]=t.endDate.getMonth()+1,n[2]=t.endDate.getDate(),a.toDateSpan.text(a.parseToString(n[0]+"-"+n[1]+"-"+n[2]))):a.toDateSpan.text(a.parseToString(n[0]+"-"+n[1]+"-0")))},createMonthElement:function(e,t,a){return'<div class="drp-month" data-value="'+e+"-"+t+'-1"><div class="drp-status"><div class="drp-status1"></div><div class="drp-status2"></div><div class="drp-status3"></div><div class="drp-status4"></div></div>'+a+"</div>"},clearSelection:function(e){a.dailyPopup.hasClass("drp-daily-popup-show")&&a.hideDailyPopup(),(void 0===e||null===e||e===!1)&&($(".drp-exclude").removeClass("drp-exclude"),a.specificDaysSelected=0),a.lastMonthDoubleClicked=null,$(".drp-hovering").removeClass("drp-hovering"),$(".drp-current-preset-pick").removeClass("drp-current-preset-pick"),$(".drp-active").children().unwrap(),$(".drp-status").removeClass("drp-active-status"),$(".drp-initial").removeClass("drp-initial")},fromDateClicked:function(){var e=$(this),n=e.text();t.fromDateClicked(),a.clearSelection(),e.hide(),e.after('<input type="text" class="drp-textbox" />'),e.next().val(n).focus().select().on("keydown",function(t){var n,o;(9===t.which||13===t.which||27===t.which)&&(t.preventDefault(),27!==t.which&&(n=$(this).val(),n.trim().length>0&&(o=a.parseToDate(n),null!==o&&e.text(a.parseToString(o)))),$(this).remove(),e.show(),a.checkEndIsAfterStart()&&a.markMonthSelection())}).on("blur",function(){var n,o;n=$(this).val(),n.trim().length>0&&(o=a.parseToDate(n),null!==o&&e.text(a.parseToString(o))),$(this).remove(),e.show(),a.checkEndIsAfterStart()&&(a.markMonthSelection(),t.fromDateEnteredManually())})},toDateClicked:function(){var e=$(this),n=e.text();a.clearSelection(),t.toDateClicked(),e.hide(),e.after('<input type="text" class="drp-textbox" />'),e.next().val(n).focus().select().on("keydown",function(t){var n,o;(9===t.which||13===t.which||27===t.which)&&(t.preventDefault(),27!==t.which&&(n=$(this).val(),n.trim().length>0&&(o=a.parseToDate(n,!0),null!==o&&e.text(a.parseToString(o)))),$(this).remove(),e.show(),a.checkEndIsAfterStart()&&a.markMonthSelection())}).on("blur",function(){var n,o;n=$(this).val(),n.trim().length>0&&(o=a.parseToDate(n,!0),null!==o&&e.text(a.parseToString(o))),$(this).remove(),e.show(),a.checkEndIsAfterStart()&&(a.markMonthSelection(),t.toDateEnteredManually())})},markMonthSelection:function(){var e=a.fromDateSpan.text(),n=a.toDateSpan.text(),o=a.parseToDate(e).split("-"),r=a.parseToDate(n).split("-"),s=a.findMonthDOMElement(o),i=a.findMonthDOMElement(r);s&&i&&e!==t.selectDateText&&n!==t.selectDateText&&(a.makeSelection(i,s),a.fromDateSpan.text(e),a.toDateSpan.text(n),a.excludeMonthPartsFromStartDate(o[2]),a.excludeMonthPartsFromEndDate(r[2]))},findMonthDOMElement:function(e){var n;return a.mainPopup.find(".drp-year-value").each(function(){return $(this).text()==e[0]?($(this).nextAll(".drp-month").each(function(){return $(this).text()==t.monthShortNames[parseInt(e[1])-1]?(n=$(this),!1):void 0}),!1):void 0}),n},checkEndIsAfterStart:function(){var e=a.parseToDate(a.fromDateSpan.text()).split("-"),n=a.parseToDate(a.toDateSpan.text()).split("-");return a.toDateSpan.text()!==t.selectDateText&&new Date(e[0],parseInt(e[1])-1,e[2])>new Date(n[0],parseInt(n[1])-1,n[2])?(a.fromDateSpan.text(t.selectDateText).removeClass("drp-hovering"),a.toDateSpan.text(t.selectDateText).removeClass("drp-hovering"),a.clearSelection(),alert(t.wrongDateRangeMessage),!1):!0},parseToString:function(e){var a=e.split("-"),n=parseInt(a[1]),o=parseInt(a[2]),r=new Date(a[0],n-1,o);return 0===o&&(r=new Date(a[0],n,o)),t.monthShortNames[n-1]+" "+r.getDate()+", "+a[0]},checkDateRange:function(e){return e<t.startDate?t.startDate:e>t.endDate?t.endDate:e},parseToDate:function(e,n){var o,r,s,i,l,d,p,h,c=e.split(/[\s,]+/);if(c[0]=c[0].toTitleCase(),3===c.length){for(var u=t.monthShortNames.length-1;u>=0;u--)if(c[0].startsWith(t.monthShortNames[u])){r=u+1;break}s=c[1],o=c[2]}else if(2===c.length){for(var u=t.monthShortNames.length-1;u>=0;u--)if(c[0].startsWith(t.monthShortNames[u])){r=u+1;break}o=c[1],n?(d=new Date(o,r,0),s=d.getDate()):s=1}else if(c[0]=c[0].replace("-","/"),h=new Date(c[0]),h.isValidDate())o=h.getFullYear(),r=h.getMonth()+1,s=h.getDate();else if(h=new Date,t.today.toLowerCase().startsWith(c[0].toLowerCase()))o=h.getFullYear(),r=h.getMonth()+1,s=h.getDate();else if(t.tomorrow.toLowerCase().startsWith(c[0].toLowerCase()))h=h.addDays(1),o=h.getFullYear(),r=h.getMonth()+1,s=h.getDate();else if(t.yesterday.toLowerCase().startsWith(c[0].toLowerCase()))h=h.addDays(-1),o=h.getFullYear(),r=h.getMonth()+1,s=h.getDate();else{for(var u=t.dayLongNames.length-1;u>=0;u--)if(t.dayLongNames[u].toLowerCase().startsWith(c[0].toLowerCase())){i=u;break}if(void 0!==i)h=h.addDays(i<h.getDay()?i-h.getDay():-(h.getDay()+6-i)),o=h.getFullYear(),r=h.getMonth()+1,s=h.getDate();else{for(var u=t.monthLongNames.length-1;u>=0;u--)if(t.monthLongNames[u].toLowerCase().startsWith(c[0].toLowerCase())){l=u;break}void 0!==l&&(l<h.getMonth()?h=h.addMonths(l-h.getMonth()):l>h.getMonth()&&(h=h.addMonths(-(h.getMonth()+12-l))),o=h.getFullYear(),r=h.getMonth()+1,n?(d=new Date(o,r,0),s=d.getDate()):s=1)}}return void 0!==o?(p=o+"-"+r+"-"+s,console.log(p),h=new Date(p),a.checkDateRange(h)!==h&&(h=a.checkDateRange(h),p=h.getFullYear()+"-"+(h.getMonth()+1)+"-"+h.getDate()),h.isValidDate()?p:null):null},makeSelection:function(e,t,n){var o,r;if(a.clearSelection(n),t&&(a.initialElement=t,a.initialElement.addClass("drp-initial"),a.initialMonthPosition={left:$(t).position().left,top:$(t).position().top}),o=a.initialElement.parent(),a.untilElement=e,r={left:$(a.untilElement).position().left,top:$(a.untilElement).position().top},r.top===a.initialMonthPosition.top)r.left>a.initialMonthPosition.left?a.initialElement.nextUntil(e,".drp-month").andSelf().add(e).wrapAll(a.activeMonthsWrapper).children(".drp-status").addClass("drp-active-status"):r.left<a.initialMonthPosition.left?a.initialElement.prevUntil(e,".drp-month").andSelf().add(e).wrapAll(a.activeMonthsWrapper).children(".drp-status").addClass("drp-active-status"):a.initialElement.wrap(a.activeMonthsWrapper).children(".drp-status").addClass("drp-active-status");else if(r.top>a.initialMonthPosition.top){for(a.initialElement.nextAll(".drp-month").andSelf().wrapAll(a.activeMonthsWrapper).children(".drp-status").addClass("drp-active-status"),o=o.next(".drp-year");0===o.has(e).length;)o.children(".drp-month").wrapAll(a.activeMonthsWrapper).children(".drp-status").addClass("drp-active-status"),o=o.next(".drp-year");e.prevAll(".drp-month").andSelf().wrapAll(a.activeMonthsWrapper).children(".drp-status").addClass("drp-active-status")}else if(r.top<a.initialMonthPosition.top){for(a.initialElement.prevAll(".drp-month").andSelf().wrapAll(a.activeMonthsWrapper).children(".drp-status").addClass("drp-active-status"),o=o.prev(".drp-year");0===o.has(e).length;)o.children(".drp-month").wrapAll(a.activeMonthsWrapper).children(".drp-status").addClass("drp-active-status"),o=o.prev(".drp-year");e.nextAll(".drp-month").andSelf().wrapAll(a.activeMonthsWrapper).children(".drp-status").addClass("drp-active-status")}(void 0===n||null===n||n===!1)&&a.fillTextBoxes()},predefinedOptionClick:function(){var e,n,o=$(this),r=o.text(),s=new Date;if(a.clearSelection(),r===t.today){s=a.checkDateRange(s);for(var i=a.months.length-1;i>=0;i--)if($(a.months[i]).attr("data-value")===s.getFullYear()+"-"+(s.getMonth()+1)+"-1"){a.makeSelection($(a.months[i]),$(a.months[i])),$(a.months[i]).children(":first").children().addClass("drp-exclude");break}a.fromDateSpan.text(a.parseToString(s.getFullYear()+"-"+(s.getMonth()+1)+"-"+s.getDate())),a.toDateSpan.text(a.parseToString(s.getFullYear()+"-"+(s.getMonth()+1)+"-"+s.getDate()))}else if(r===t.thisWeek){s=s.addDays(-s.getDay()),t.startWeekOnMonday&&(s=s.addDays(1)),s=a.checkDateRange(s);for(var i=a.months.length-1;i>=0;i--)if($(a.months[i]).attr("data-value")===s.getFullYear()+"-"+(s.getMonth()+1)+"-1"){e=$(a.months[i]);break}s=s.addDays(6),t.startWeekOnMonday&&(s=s.addDays(1)),s=a.checkDateRange(s);for(var i=a.months.length-1;i>=0;i--)if($(a.months[i]).attr("data-value")===s.getFullYear()+"-"+(s.getMonth()+1)+"-1"){n=$(a.months[i]);break}a.makeSelection(n,e),s=new Date,s=s.addDays(-s.getDay()),t.startWeekOnMonday&&(s=s.addDays(1)),s=a.checkDateRange(s),a.fromDateSpan.text(a.parseToString(s.getFullYear()+"-"+(s.getMonth()+1)+"-"+s.getDate())),a.excludeMonthPartsFromStartDate(s.getDate()),s=new Date,s=s.addDays(-s.getDay()),s=s.addDays(6),t.startWeekOnMonday&&(s=s.addDays(1)),s=a.checkDateRange(s),a.toDateSpan.text(a.parseToString(s.getFullYear()+"-"+(s.getMonth()+1)+"-"+s.getDate())),a.excludeMonthPartsFromEndDate(s.getDate())}else if(r===t.thisMonth){for(var i=a.months.length-1;i>=0;i--)if($(a.months[i]).attr("data-value")===s.getFullYear()+"-"+(s.getMonth()+1)+"-1"){a.makeSelection($(a.months[i]),$(a.months[i]));break}}else r===t.thisYear?$(this).parent().parent().find(".drp-year-value").each(function(){return $(this).text()==s.getFullYear()?($(this).click(),!1):void 0}):r===t.lastYear&&$(this).parent().parent().find(".drp-year-value").each(function(){return $(this).text()==s.getFullYear()-1?($(this).click(),!1):void 0});o.addClass("drp-current-preset-pick"),t.presetDateSet(),t.autoCloseOnPresetSelect&&a.close()},monthMouseDown:function(){var e=$(this);a.isMouseDown=!0,$(".drp-current-preset-pick").removeClass("drp-current-preset-pick"),clearTimeout(a.specificDaysDoubleClickTimeout),a.specificDaysDoubleClickTimeout=setTimeout(function(){a.specificDaysSelected=0,$(".drp-exclude").removeClass("drp-exclude"),$(".drp-hovering").length>0&&($(".drp-hovering").removeClass("drp-hovering"),a.makeSelection(e,e))},500),a.shiftKeyIsPressed&&void 0!==a.initialElement?a.makeSelection(e):(void 0===a.initialElement||void 0!==a.initialElement&&(!e.hasClass("drp-initial")||a.initialElement.siblings().length>0))&&0===$(".drp-hovering").length&&a.makeSelection(e,e)},monthMouseOver:function(e){var n,o,r,s;if("drag"===e.type){if(e.preventDefault(),n={x:$(this).offset().left,y:$(this).offset().top},r=$(this).outerWidth(),s=$(this).outerHeight(),o=$(this).parent(),e.y-n.y<=-20)for(o=0===o.prev(".drp-month").length?o.parent().prev().children(".drp-month:last"):o.prev(".drp-month"),n={x:o.offset().left,y:o.offset().top};o.length>0&&!(e.x>=n.x&&e.x<=n.x+r&&e.y>=n.y&&e.y<=n.y+s);)o=0===o.prev(".drp-month").length?o.parent().prev().children(".drp-month:last"):o.prev(".drp-month"),n={x:o.offset().left,y:o.offset().top};else if(e.y-n.y>=20)for(o=0===o.next(".drp-month").length?o.parent().next().children(".drp-month:last"):o.next(".drp-month"),n={x:o.offset().left,y:o.offset().top};o.length>0&&!(e.x>=n.x&&e.x<=n.x+r&&e.y>=n.y&&e.y<=n.y+s);)o=0===o.next(".drp-month").length?o.parent().next().children(".drp-month:last"):o.next(".drp-month"),n={x:o.offset().left,y:o.offset().top};else if(e.x>n.x)for(o=0===o.next(".drp-month").length?o.parent().next().children(".drp-month:last"):o.next(".drp-month"),n={x:o.offset().left,y:o.offset().top};o.length>0&&!(e.x>=n.x&&e.x<=n.x+r&&e.y>=n.y&&e.y<=n.y+s);)o=0===o.next(".drp-month").length?o.parent().next().children(".drp-month:last"):o.next(".drp-month"),n={x:o.offset().left,y:o.offset().top};else for(o=0===o.prev(".drp-month").length?o.parent().prev().children(".drp-month:last"):o.prev(".drp-month"),n={x:o.offset().left,y:o.offset().top};o.length>0&&!(e.x>=n.x&&e.x<=n.x+r&&e.y>=n.y&&e.y<=n.y+s);)o=0===o.prev(".drp-month").length?o.parent().prev().children(".drp-month:last"):o.prev(".drp-month"),n={x:o.offset().left,y:o.offset().top};a.makeSelection(o),t.dragging()}else a.isMouseDown&&(a.makeSelection($(this)),t.dragging())},monthDoubleClick:function(){var e,n,o,r=$(this).attr("data-value"),s=r.split("-"),i=new Date(parseInt(s[0]),parseInt(s[1])-1,1),l=new Date(parseInt(s[0]),parseInt(s[1]),0),d=$(this).position().top;if(clearTimeout(a.specificDaysDoubleClickTimeout),t.doubleClickedMonth(),0===a.specificDaysSelected||void 0===a.lastMonthDoubleClicked||null===a.lastMonthDoubleClicked||d>a.initialMonthPosition.top+1||d===a.initialMonthPosition.top&&$(this).position().left>a.initialMonthPosition.left){if(a.lastMonthDoubleClicked=$(this),0===$(".drp-hovering").length?(a.fromDateSpan.text(t.selectDateText).addClass("drp-hovering"),a.toDateSpan.text("")):a.specificDaysSelected>0?a.makeSelection($(this),null,!0):a.makeSelection($(this),$(this)),a.dailyPopup.hasClass("drp-daily-popup-show")&&a.hideDailyPopup(),$(".drp-day").remove(),e=$(this).parent(),n=e.parent(".drp-year"),n.length>0&&0===n.prev(".drp-year").length&&0===e.prev(".drp-month").length){o=t.startDate.getDate();for(var p=l.getDate();p>=1;p--)a.dailyPopup.children(".drp-days-detail").prepend(o>p?'<span class="drp-day">&nbsp;</span>':'<span class="drp-day drp-day-select">'+p+"</span>")}else if(n.length>0&&0===n.next(".drp-year").length&&0===e.next(".drp-month").length){o=t.endDate.getDate();for(var p=l.getDate();p>=1;p--)a.dailyPopup.children(".drp-days-detail").prepend(p>o?'<span class="drp-day">&nbsp;</span>':'<span class="drp-day drp-day-select">'+p+"</span>")}else for(var p=l.getDate();p>=1;p--)a.dailyPopup.children(".drp-days-detail").prepend('<span class="drp-day drp-day-select">'+p+"</span>");for(var p=i.getDay()-1;p>=0;p--)a.dailyPopup.children(".drp-days-detail").prepend('<span class="drp-day">&nbsp;</span>');a.dailyPopup.addClass("drp-daily-popup-show").css("top",a.mainPopup.position().top+a.mainPopup.outerHeight()+5)}else alert(t.wrongDateRangeMessage)},yearClick:function(){a.hideDailyPopup(),$(".drp-active").children().unwrap(),$(".drp-status").removeClass("drp-active-status"),a.initialElement=$(this).siblings(".drp-month:first"),a.initialMonthPosition={left:a.initialElement.position().left,top:a.initialElement.position().top},a.initialElement.addClass("drp-initial"),a.makeSelection($(this).siblings(".drp-month:last")),t.yearClicked()},excludeMonthPartsFromStartDate:function(e){$(".drp-active:first").children(":first").children(":first").children().each(function(t){e/t>31/3&&e>1&&$(this).addClass("drp-exclude")})},excludeMonthPartsFromEndDate:function(e){$(".drp-active:last").children(":last").children(":first").children().each(function(t){31/3>e/t&&28>e&&$(this).addClass("drp-exclude")})},dayClick:function(){var e,n,o=$(this).text();0===a.specificDaysSelected&&$(".drp-exclude").removeClass("drp-exclude"),a.specificDaysSelected+=1,a.specificDaysSelected>1&&(a.specificDaysSelected=0),1===a.specificDaysSelected?(e=$(".drp-active:first").children(":first").attr("data-value").split("-"),a.fromDateSpan.text(a.parseToString(e[0]+"-"+e[1]+"-"+o)),a.excludeMonthPartsFromStartDate(o),a.fromDateSpan.removeClass("drp-hovering"),a.toDateSpan.text(t.selectDateText).addClass("drp-hovering")):(n=$(".drp-active:last").children(":last").attr("data-value").split("-"),e=a.parseToDate(a.fromDateSpan.text()).split("-"),a.toDateSpan.text(a.parseToString(n[0]+"-"+n[1]+"-"+o)),a.excludeMonthPartsFromEndDate(o),a.toDateSpan.removeClass("drp-hovering"),a.hideDailyPopup(),a.checkEndIsAfterStart()),t.clickedSpecificDay()},hideDailyPopup:function(){a.dailyPopup.removeClass("drp-daily-popup-show").css("top",a.mainPopup.position().top)},kill:function(){}};null!==t.dayShortNames&&void 0!=t.dayShortNames&&(a.customLanguage=!0),t=t||{},t.startDate=t.startDate,t.endDate=t.endDate,t.fromDateHiddenFieldName=t.fromDateHiddenFieldName||"from-date",t.toDateHiddenFieldName=t.toDateHiddenFieldName||"to-date",t.language=t.language||"english",t.selectDateText=t.selectDateText||("english"===t.language?"Select Date":"Fecha"),t.toText=t.toText||("english"===t.language?"to":"a"),t.startWeekOnMonday=t.startWeekOnMonday||!1,t.customClass=t.customClass,t.width=t.width,t.wrongDateRangeMessage=t.wrongDateRangeMessage||("english"===t.language?"Oops! Please select a valid date range. End date needs to be after (or same as) start date.":"Por favor seleccione un rango de fechas válido. La fecha de termino debe ser igual o mayor a la fecha de inicio."),t.autoCloseOnPresetSelect=t.autoCloseOnPresetSelect||!1,t.today=t.today||("english"===t.language?a.today:a.todaySpanish),t.tomorrow=t.tomorrow||("english"===t.language?a.tomorrow:a.tomorrowSpanish),t.yesterday=t.yesterday||("english"===t.language?a.yesterday:a.yesterdaySpanish),t.thisWeek=t.thisWeek||("english"===t.language?a.thisWeek:a.thisWeekSpanish),t.thisMonth=t.thisMonth||("english"===t.language?a.thisMonth:a.thisMonthSpanish),t.thisYear=t.thisYear||("english"===t.language?a.thisYear:a.thisYearSpanish),t.lastYear=t.lastYear||("english"===t.language?a.lastYear:a.lastYearSpanish),t.monthShortNames=t.monthShortNames||("english"===t.language?a.monthShortNames:a.monthShortNamesSpanish),t.monthLongNames=t.monthLongNames||("english"===t.language?a.monthLongNames:a.monthLongNamesSpanish),t.dayShortNames=t.dayShortNames||("english"===t.language?a.dayShortNames:a.dayShortNamesSpanish),t.dayLongNames=t.dayLongNames||("english"===t.language?a.dayLongNames:a.dayLongNamesSpanish),t.initialized=t.initialized||function(){},t.popupOpened=t.popupOpened||function(){},t.popupClosed=t.popupClosed||function(){},t.presetDateSet=t.presetDateSet||function(){},t.yearClicked=t.yearClicked||function(){},t.dragging=t.dragging||function(){},t.clickedSpecificDay=t.clickedSpecificDay||function(){},t.doubleClickedMonth=t.doubleClickedMonth||function(){},t.fromDateClicked=t.fromDateClicked||function(){},t.fromDateEnteredManually=t.fromDateEnteredManually||function(){},t.toDateClicked=t.toDateClicked||function(){},t.toDateEnteredManually=t.toDateEnteredManually||function(){};var n={handleEvent:function(e){switch(e.type){case"click":this.click(e)}},click:function(){a.open()}};return $(document).keydown(function(e){16===e.which?a.shiftKeyIsPressed=!0:17===e.which&&(a.controlKeyIsPressed=!0)}).keyup(function(e){16===e.which?a.shiftKeyIsPressed=!1:17===e.which&&(a.controlKeyIsPressed=!1)}),$(document).mouseup(function(){a.isMouseDown=!1}),"function"!=typeof String.prototype.startsWith&&(String.prototype.startsWith=function(e){return this.slice(0,e.length)==e}),"function"!=typeof String.prototype.toTitleCase&&(String.prototype.toTitleCase=function(){return this.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})}),"function"!=typeof Date.prototype.addDays&&(Date.prototype.addDays=function(e){var t=new Date(this.valueOf());return t.setDate(t.getDate()+e),t}),"function"!=typeof Date.prototype.addMonths&&(Date.prototype.addMonths=function(e){var t=new Date(this.valueOf());return t.setMonth(t.getMonth()+e),t}),"function"!=typeof Date.prototype.isValidDate&&(Date.prototype.isValidDate=function(){return"[object Date]"!==Object.prototype.toString.call(this)?!1:!isNaN(this.getTime())}),a.init(),a.dateRangeElement[0].addEventListener("click",n,!1),{kill:a.kill,startDateVal:function(){return a.dateRangeElementFrom.text().length>0?a.parseToDate(a.fromDateSpan.text()):null},endDateVal:function(){return a.dateRangeElementFrom.text().length>0?a.parseToDate(a.toDateSpan.text()):null},open:function(){a.open()},close:function(){a.close()}}}window.jQuery&&!function(e){var t="DateRangePicker",a={init:function(a){return this.each(function(){var n=e(this),o=n.data(t);if(!o){var r={};a&&e.extend(!0,r,a),n.data(t,new DateRangePicker(e(this)[0],r))}})}};e.fn[t]=function(n){return a[n]?a[n].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof n&&n?void e.error("Method "+n+" does not exist in jQuery."+t):a.init.apply(this,arguments)}}(window.jQuery);